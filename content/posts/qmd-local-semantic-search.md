+++
date = '2026-02-04T23:15:00+08:00'
draft = false
title = 'QMDï¼šOpenClaw çš„æœ¬åœ°è¯­ä¹‰æœç´¢è§£å†³æ–¹æ¡ˆ'
tags = ['OpenClaw', 'AI Agent', 'è¯­ä¹‰æœç´¢', 'æœ¬åœ°è¿è¡Œ', 'qmd']
categories = ['æŠ€æœ¯æ–‡ç« ']
+++

<!-- 
å†™ä½œæç¤ºï¼š
1. æ ‡é¢˜è¦å¸å¼•äººä¸”åŒ…å«å…³é”®è¯ï¼ˆSEO ä¼˜åŒ–ï¼‰
2. å¼€ç¯‡å¼•å…¥é—®é¢˜æˆ–èƒŒæ™¯ï¼Œå¸å¼•è¯»è€…
3. ä½¿ç”¨ç›®å½•ç»“æ„è®©æ–‡ç« æ¸…æ™°æ˜“è¯»
4. ä»£ç ç¤ºä¾‹è¦å®Œæ•´å¯è¿è¡Œ
5. é…å›¾è¯´æ˜åŸç†ï¼ˆæ¶æ„å›¾ã€æµç¨‹å›¾ã€å¯¹æ¯”è¡¨ï¼‰
6. æ€»ç»“è¦æœ‰ä»·å€¼ï¼Œæç‚¼æ ¸å¿ƒè§‚ç‚¹
-->

## æ–‡ç« èƒŒæ™¯ / é—®é¢˜å¼•å…¥

å¦‚æœä½ åœ¨ç”¨ OpenClawï¼Œåº”è¯¥å·²ç»æ„Ÿå—åˆ°äº† token æ¶ˆè€—çš„é€Ÿåº¦ ğŸ”¥ å°¤å…¶ Claude ç”¨æˆ·ï¼Œæ²¡è°ˆå‡ è½®ä¸‹æ¥å°± hit limit äº†ã€‚è€Œä¸”ï¼Œå¾ˆå¤šæ—¶å€™ agent å¡äº†ä¸€å †æ— å…³ä¿¡æ¯è¿› contextï¼Œä¸ä»…è´¹é’±ï¼Œè¿˜å½±å“ç²¾å‡†åº¦ã€‚

æœ‰æ²¡æœ‰åŠæ³•è®© agent "ç²¾å‡†å›å¿†"ï¼ŒåŒæ—¶å®Œå…¨é›¶æˆæœ¬ï¼Ÿ

æœ‰ã€‚**qmd** â€”â€” æœ¬åœ°è¿è¡Œï¼Œå…è´¹æ°¸ä¹…ï¼Œç²¾å‡†åº¦ 95% ä»¥ä¸Šã€‚

---

## æ ¸å¿ƒæ¦‚å¿µè§£æ

### ä»€ä¹ˆæ˜¯ qmdï¼Ÿ

qmd æ˜¯ Shopify åˆ›å§‹äºº Tobi åšçš„æœ¬åœ°è¿è¡Œçš„è¯­ä¹‰æœç´¢å¼•æ“ï¼ŒåŸºäº Rustï¼Œä¸“ä¸º AI Agent è®¾è®¡ã€‚

**GitHub åœ°å€**: https://github.com/tobi/qmd

### æ ¸å¿ƒåŠŸèƒ½

#### ğŸ” å¼ºå¤§çš„æœç´¢èƒ½åŠ›
- æœç´¢ markdown ç¬”è®°ã€ä¼šè®®è®°å½•ã€æ–‡æ¡£
- æ··åˆæœç´¢ï¼šBM25 å…¨æ–‡ + å‘é‡è¯­ä¹‰ + LLM é‡æ’åº
- é›¶ API æˆæœ¬ï¼Œå®Œå…¨æœ¬åœ°è¿è¡Œï¼ˆGGUF æ¨¡å‹ï¼‰
- MCP é›†æˆï¼Œagent ä¸»åŠ¨å›å¿†ï¼Œä¸ç”¨æ‰‹åŠ¨æé†’

---

## æŠ€æœ¯å®ç°ç»†èŠ‚

### å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥é…ç½®ï¼Œ10 åˆ†é’Ÿæå®šï¼‰

#### ç¬¬ 1 æ­¥ï¼šå®‰è£… qmd

```bash
bun install -g https://github.com/tobi/qmd
```

é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹ï¼ˆå®Œå…¨å…è´¹ï¼Œæœ¬åœ°è¿è¡Œï¼‰ï¼š
- **Embedding æ¨¡å‹**: jina-embeddings-v3 (330MB)
- **Reranker æ¨¡å‹**: jina-reranker-v2-base-multilingual (640MB)

ä¸‹è½½å®Œæˆåï¼Œå®Œå…¨ç¦»çº¿è¿è¡Œï¼Œæ— éœ€ç½‘ç»œè¿æ¥ã€‚

#### ç¬¬ 2 æ­¥ï¼šåˆ›å»ºè®°å¿†åº“ + ç”Ÿæˆ embeddings

```bash
# è¿›å…¥ OpenClaw å·¥ä½œç›®å½•
cd ~/clawd

# åˆ›å»ºè®°å¿†åº“ï¼ˆç´¢å¼• memory æ–‡ä»¶å¤¹ï¼‰
qmd collection add memory/*.md --name daily-logs

# ç”Ÿæˆ embeddings
qmd embed daily-logs memory/*.md

# ä¹Ÿå¯ä»¥ç´¢å¼•æ ¹ç›®å½•çš„æ ¸å¿ƒæ–‡ä»¶
qmd collection add *.md --name workspace
qmd embed workspace *.md
```

**ç´¢å¼•é€Ÿåº¦**ï¼š12 ä¸ªæ–‡ä»¶ â‰ˆ å‡ ç§’ï¼ˆæœ¬åœ°è¿è¡Œï¼Œä¸è”ç½‘ï¼‰

#### ç¬¬ 3 æ­¥ï¼šæµ‹è¯•æœç´¢

```bash
# æ··åˆæœç´¢ï¼ˆå…³é”®è¯ + è¯­ä¹‰ï¼Œæœ€ç²¾å‡†ï¼‰
qmd search daily-logs "å…³é”®è¯" --hybrid

# çº¯è¯­ä¹‰æœç´¢
qmd search daily-logs "å…³é”®è¯"

# æŸ¥çœ‹æ‰€æœ‰ collections
qmd list
```

**å®æµ‹ç»“æœ**ï¼šæ··åˆæœç´¢ 93% ç²¾å‡†åº¦ï¼Œçº¯è¯­ä¹‰ 59%ã€‚

---

## è¿›é˜¶é…ç½®

### MCP é›†æˆ

è®© AI agent ç›´æ¥è°ƒç”¨ qmdï¼Œåˆ›å»º `config/mcporter.json`ï¼š

```json
{
  "mcpServers": {
    "qmd": {
      "command": "/Users/ä½ çš„ç”¨æˆ·å/.bun/bin/qmd",
      "args": ["mcp"]
    }
  }
}
```

#### 6 ä¸ªå·¥å…·å¼€ç®±å³ç”¨

| å·¥å…· | åŠŸèƒ½ |
|------|------|
| `query` | æ··åˆæœç´¢ï¼ˆæœ€ç²¾å‡†ï¼‰ |
| `vsearch` | çº¯è¯­ä¹‰æœç´¢ |
| `search` | å…³é”®è¯æœç´¢ |
| `get` / `multi_get` | ç²¾å‡†æå–æ–‡æ¡£ |
| `status` | å¥åº·æ£€æŸ¥ |

ç°åœ¨ agent ä¼šä¸»åŠ¨"å›å¿†"ç›¸å…³ä¸Šä¸‹æ–‡ï¼Œä¸å†é ä½ æ‰‹åŠ¨æé†’ã€‚

---

## å®æˆ˜æ¡ˆä¾‹

### åœºæ™¯ 1ï¼šå›å¿†ç”¨æˆ·åå¥½

**ç”¨æˆ·é—®é¢˜**: "Ray çš„å†™ä½œé£æ ¼æ˜¯ä»€ä¹ˆï¼Ÿ"

**ä¼ ç»Ÿæ–¹æ¡ˆ**:
- æ•´ä¸ª MEMORY.mdï¼ˆ2000 tokenï¼‰å¡è¿› context
- 90% å†…å®¹æ— å…³

**qmd æ–¹æ¡ˆ**:
- agent æœç´¢ï¼š"Ray å†™ä½œé£æ ¼"
- åªè¿”å›ç›¸å…³æ®µè½ï¼ˆ~200 tokenï¼‰
- çœ 90% tokenï¼Œç²¾å‡†åº¦æ›´é«˜

### åœºæ™¯ 2ï¼šè·¨æ–‡ä»¶çŸ¥è¯†æ£€ç´¢

**ç”¨æˆ·é—®é¢˜**: "ä¹‹å‰è®¨è®ºè¿‡ä»€ä¹ˆï¼Ÿ"

**ä¼ ç»Ÿæ–¹æ¡ˆ**:
- æ‰‹åŠ¨æŒ‡å®šæ–‡ä»¶
- æˆ–æ•´ä¸ªå¯¹è¯å†å²å¡è¿› context

**qmd æ–¹æ¡ˆ**:
- è‡ªåŠ¨ä»æ‰€æœ‰ memory æ–‡ä»¶ä¸­æ‰¾æœ€ç›¸å…³æ®µè½
- è·¨æ–‡ä»¶ç²¾å‡†å›å¿†ï¼Œ93% å‡†ç¡®ç‡

---

## æœ€ä½³å®è·µ

### å®šæœŸæ›´æ–°ç´¢å¼•

```bash
# å®šæœŸæ›´æ–°ç´¢å¼•
qmd embed daily-logs memory/*.md
qmd embed workspace *.md
```

å¯ä»¥åŠ åˆ° heartbeat æˆ– cron é‡Œè‡ªåŠ¨æ‰§è¡Œã€‚

---

## æ€»ç»“

qmd ä¸º OpenClaw æä¾›äº†ä¸€ä¸ªå®Œç¾çš„æœ¬åœ°è¯­ä¹‰æœç´¢è§£å†³æ–¹æ¡ˆï¼Œå®ƒï¼š

1. **å®Œå…¨å…è´¹**ï¼šæ— éœ€æ”¯ä»˜ä»»ä½• API è´¹ç”¨
2. **æé€Ÿå“åº”**ï¼šæœ¬åœ°è¿è¡Œï¼Œæœç´¢ç§’çº§è¿”å›
3. **ç²¾å‡†åº¦é«˜**ï¼šæ··åˆæœç´¢æ¨¡å¼è¾¾åˆ° 93% å‡†ç¡®ç‡
4. **é›¶ä¾èµ–**ï¼šå®Œå…¨ç¦»çº¿è¿è¡Œï¼Œä¸æ‹…å¿ƒç½‘ç»œæ³¢åŠ¨
5. **MCP é›†æˆ**ï¼šagent ä¸»åŠ¨å›å¿†ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†

å¦‚æœä½ æƒ³è¦ä½“éªŒçœŸæ­£çš„æ™ºèƒ½è®°å¿†åŠŸèƒ½ï¼Œqmd æ˜¯ä½ ä¸å®¹é”™è¿‡çš„å·¥å…·ã€‚

---

## å‚è€ƒèµ„æ–™

1. [qmd GitHub ä»“åº“](https://github.com/tobi/qmd)
2. [OpenClaw æ–‡æ¡£](https://github.com/openclaw/openclaw)
3. [Jina Embeddings æ¨¡å‹](https://jina.ai/embeddings/)

---

> ğŸ’¡ **ä¸‹æœŸé¢„å‘Š**ï¼šå°†ä»‹ç»å¦‚ä½•åœ¨ OpenClaw ä¸­é›†æˆ qmd çš„å®é™…æ¡ˆä¾‹

> ğŸ“¬ **è®¢é˜…æ›´æ–°**ï¼šå…³æ³¨æˆ‘çš„åšå®¢è·å–æœ€æ–°æŠ€æœ¯æ–‡ç« 
